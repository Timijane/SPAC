<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!-- Enhanced viewport meta for better zoom control -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=0.5, user-scalable=yes, viewport-fit=cover">
<meta name="theme-color" content="#1a4b8c">
<meta name="description" content="SPAC Church - A vibrant community of believers committed to spreading the gospel and serving our community through faith, hope, and love.">
<title>SPAC Church - Home</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
<!-- Preconnect for performance -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="spac-logo.jpg">
<style>
  /* Add these new styles at the beginning of the existing CSS */
  
  /* Viewport constraints and base fixes */
  html {
    font-size: clamp(12px, 1vw, 16px);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
    width: 100%;
    max-width: 100%;
    position: relative;
    overflow-x: hidden;
  }
  
  /* Container query support for modern responsive design */
  @container style(--responsive: true) {
    .container-responsive {
      --padding: clamp(1rem, 5vw, 2rem);
      padding-left: var(--padding);
      padding-right: var(--padding);
    }
  }
  
  /* Fluid typography system */
  :root {
    --fluid-min-width: 320;
    --fluid-max-width: 1440;
    --fluid-min-size: 16;
    --fluid-max-size: 20;
    --fluid-min-scale: 1.2;
    --fluid-max-scale: 1.333;
    
    /* Calculate fluid values */
    --fluid-screen: 100vw;
    --fluid-bp: (var(--fluid-screen) - var(--fluid-min-width) / 16 * 1rem) / 
      (var(--fluid-max-width) - var(--fluid-min-width));
  }
  
  /* Enhanced responsive container */
  .container {
    width: min(100% - clamp(1rem, 5vw, 3rem), 1200px);
    margin-inline: auto;
    container-type: inline-size;
  }
  
  /* Professional touch: Modern glass morphism effects */
  .glass-effect {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  /* Professional touch: Enhanced focus states for accessibility */
  *:focus-visible {
    outline: 2px solid var(--secondary);
    outline-offset: 3px;
    border-radius: 4px;
  }
  
  /* Professional touch: Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 100px;
  }
  
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
  
  /* Professional touch: Modern gradient borders */
  .gradient-border {
    position: relative;
    background: white;
  }
  
  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 2px;
    background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
    border-radius: inherit;
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }
  
  /* Professional touch: Scroll progress indicator */
  .scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    z-index: 1001;
    transition: width 0.1s ease;
  }
  
  /* Professional touch: Loading skeleton */
  .skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: 4px;
  }
  
  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  /* Professional touch: Modern hover effects */
  .hover-lift {
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  .hover-lift:hover {
    transform: translateY(-8px);
  }
  
  /* Professional touch: Enhanced mobile navigation */
  @media (max-width: 992px) {
    .nav-menu {
      width: min(90%, 400px);
      right: -100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }
    
    .nav-menu.active {
      right: 0;
    }
  }
  
  /* Professional touch: Better touch targets for mobile */
  @media (max-width: 768px) {
    .btn,
    .circle-button,
    .picture-card,
    .insta-slide {
      min-height: 44px;
      min-width: 44px;
    }
    
    .nav-menu a {
      padding: 16px 0;
    }
  }
  
  /* Professional touch: Modern image loading */
  .lazy-load {
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .lazy-load.loaded {
    opacity: 1;
  }
  
  /* Professional touch: Reduced motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* Professional touch: Dark mode consideration */
  @media (prefers-color-scheme: dark) {
    :root {
      --light: #1a1a1a;
      --dark: #f8f9fa;
    }
    
    body {
      background: #121212;
      color: #e0e0e0;
    }
    
    .glass-effect {
      background: rgba(30, 30, 30, 0.85);
      border-color: rgba(255, 255, 255, 0.1);
    }
  }
  
  /* Fix existing overflow issues */
  .hero {
    width: 100vw;
    max-width: 100%;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);
  }
  
  /* Ensure no horizontal scroll */
  main, section, header, footer {
    overflow-x: hidden;
  }
  
  /* Professional touch: Modern grid system */
  .auto-grid {
    --min-column-size: 250px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, var(--min-column-size)), 1fr));
    gap: clamp(1rem, 3vw, 2rem);
  }
  
  /* Professional touch: Aspect ratio containers */
  .aspect-video {
    aspect-ratio: 16/9;
  }
  
  .aspect-square {
    aspect-ratio: 1/1;
  }
  
  /* Professional touch: Modern card design */
  .modern-card {
    background: var(--light);
    border-radius: 20px;
    padding: clamp(1.5rem, 4vw, 2.5rem);
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06),
      0 20px 40px -10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .modern-card:hover {
    transform: translateY(-4px);
    box-shadow: 
      0 20px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04),
      0 30px 50px -12px rgba(0, 0, 0, 0.15);
  }
  
  /* Professional touch: Gradient text */
  .gradient-text {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Professional touch: Custom scrollbar */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 10px;
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(var(--primary), var(--secondary));
    border-radius: 10px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(var(--secondary), var(--accent));
  }
  
  /* Professional touch: Focus ring for keyboard navigation */
  .focus-ring {
    position: relative;
  }
  
  .focus-ring:focus {
    outline: none;
  }
  
  .focus-ring:focus::after {
    content: '';
    position: absolute;
    inset: -4px;
    border: 2px solid var(--secondary);
    border-radius: inherit;
    pointer-events: none;
  }
  
  /* Professional touch: Performance optimized animations */
  @media (prefers-reduced-motion: no-preference) {
    .performance-animate {
      animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      animation-fill-mode: both;
    }
  }
  
  /* Professional touch: View transition support */
  @view-transition {
    navigation: auto;
  }
  
  /* Fix specific overflow issues in existing code */
  .picture-grid {
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
  }
  
  .insta-track {
    scrollbar-width: none; /* Hide scrollbar for modern browsers */
  }
  
  .insta-track::-webkit-scrollbar {
    display: none; /* Hide scrollbar for WebKit browsers */
  }
  
  /* Ensure images don't overflow containers */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Professional touch: Enhanced video container */
  .video-container {
    position: relative;
    width: 100%;
    overflow: hidden;
  }
  
  .video-container video {
    width: 100%;
    height: auto;
    object-fit: cover;
  }
  
  /* Professional touch: Modern button design */
  .btn-modern {
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }
  
  .btn-modern::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, 
      rgba(255,255,255,0.1) 0%,
      rgba(255,255,255,0.2) 100%);
    transform: translateX(-100%);
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: -1;
  }
  
  .btn-modern:hover::before {
    transform: translateX(0);
  }
  
  /* Professional touch: Sticky header enhancement */
  header {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform;
  }
  
  header.header-hidden {
    transform: translateY(-100%);
  }
  
  header.header-scrolled {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }
  
  /* Professional touch: Enhanced logo animation */
  .logo {
    transition: transform 0.3s ease;
  }
  
  .logo:hover {
    transform: scale(1.05);
  }
  
  /* Professional touch: Modern section spacing */
  section {
    scroll-margin-top: 100px;
  }
  
  /* Professional touch: Loading optimization */
  .lazy {
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .lazy-loaded {
    opacity: 1;
  }
  
  /* Fix zoom behavior */
  @media (max-width: 768px) {
    :root {
      font-size: clamp(14px, 4vw, 16px);
    }
    
    h1, h2, h3 {
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
  }
  
  /* Professional touch: Print styles */
  @media print {
    .no-print {
      display: none !important;
    }
    
    body {
      font-size: 12pt;
      line-height: 1.5;
    }
  }
  
  /* Add these after your existing CSS */
  
  /* Professional touch: CSS Masonry layout fallback */
  .masonry-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    grid-auto-rows: 10px;
    gap: 20px;
  }
  
  .masonry-item {
    grid-row-end: span 30;
  }
  
  /* Professional touch: Parallax effect */
  .parallax {
    transform: translateZ(0);
    will-change: transform;
  }
  
  /* Professional touch: Back to top button enhancement */
  .scroll-top {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
  }
  
  .scroll-top.visible {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
  
  /* Professional touch: Cookie consent banner */
  .cookie-consent {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--dark);
    color: white;
    padding: 1.5rem;
    transform: translateY(100%);
    transition: transform 0.3s ease;
    z-index: 9999;
  }
  
  .cookie-consent.show {
    transform: translateY(0);
  }
  
  /* Professional touch: Skip to main content link */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--primary);
    color: white;
    padding: 8px 16px;
    z-index: 9999;
    transition: top 0.3s ease;
  }
  
  .skip-to-content:focus {
    top: 0;
  }
  
  /* Professional touch: Loading bar */
  .loading-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    width: 0%;
    z-index: 9999;
    transition: width 0.3s ease;
  }
</style>

<!-- Add this at the beginning of body -->
<div class="scroll-progress" id="scrollProgress"></div>
<div class="loading-bar" id="loadingBar"></div>
<a href="#mainContent" class="skip-to-content">Skip to main content</a>

<!-- Update your header with enhanced classes -->
<header id="mainHeader" class="glass-effect">
  <!-- ... existing header content ... -->
</header>

<!-- Update hero section with better video handling -->
<section class="hero" id="home">
  <div class="video-container">
    <!-- ... existing video with loading="lazy" ... -->
    <video class="hero-video" autoplay muted loop playsinline preload="metadata" 
           poster="hero-poster.jpg" loading="lazy">
      <source src="spac001.mp4" type="video/mp4">
      <source src="spac001.webm" type="video/webm">
    </video>
  </div>
  <!-- ... rest of hero content ... -->
</section>

<!-- Update circle buttons with modern classes -->
<section class="circle-buttons-section" id="quick-links">
  <div class="container">
    <div class="circle-buttons-container auto-grid">
      <div class="circle-button modern-card hover-lift focus-ring" 
           onclick="navigateToPage('new-member.html', this)"
           aria-label="I'm a new member or visitor">
        <!-- ... button content ... -->
      </div>
      <!-- ... other buttons with same enhancements ... -->
    </div>
  </div>
</section>

<!-- Add this before closing body tag -->
<div class="cookie-consent" id="cookieConsent">
  <div class="container">
    <p>We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.</p>
    <button class="btn" onclick="acceptCookies()">Accept</button>
  </div>
</div>

<script>
// Add these new JavaScript functions at the beginning of your script

// Professional touch: Page loading progress
window.addEventListener('load', function() {
  const loadingBar = document.getElementById('loadingBar');
  if (loadingBar) {
    loadingBar.style.width = '100%';
    setTimeout(() => {
      loadingBar.style.opacity = '0';
      setTimeout(() => loadingBar.remove(), 300);
    }, 300);
  }
  
  // Show cookie consent if not accepted
  if (!localStorage.getItem('cookiesAccepted')) {
    setTimeout(() => {
      const cookieConsent = document.getElementById('cookieConsent');
      if (cookieConsent) cookieConsent.classList.add('show');
    }, 1000);
  }
});

// Professional touch: Scroll progress indicator
window.addEventListener('scroll', function() {
  const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  const scrolled = (winScroll / height) * 100;
  const scrollProgress = document.getElementById('scrollProgress');
  if (scrollProgress) {
    scrollProgress.style.width = scrolled + '%';
  }
  
  // Enhanced header behavior
  const header = document.getElementById('mainHeader');
  if (header) {
    if (window.scrollY > 100) {
      header.classList.add('header-scrolled');
      if (window.scrollY > 200 && window.scrollY > this.lastScrollY) {
        header.classList.add('header-hidden');
      } else {
        header.classList.remove('header-hidden');
      }
    } else {
      header.classList.remove('header-scrolled', 'header-hidden');
    }
    this.lastScrollY = window.scrollY;
  }
});

// Professional touch: Lazy loading images with Intersection Observer
if ('IntersectionObserver' in window) {
  const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        const src = img.getAttribute('data-src');
        if (src) {
          img.src = src;
          img.classList.add('loaded');
        }
        observer.unobserve(img);
      }
    });
  });
  
  document.querySelectorAll('img[data-src]').forEach(img => {
    imageObserver.observe(img);
    img.classList.add('lazy-load');
  });
}

// Professional touch: Smooth scroll with offset
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    const href = this.getAttribute('href');
    if (href === '#') return;
    
    e.preventDefault();
    const targetElement = document.querySelector(href);
    if (targetElement) {
      const headerHeight = document.querySelector('header').offsetHeight;
      const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
      
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
      
      // Update URL without scrolling
      history.pushState(null, null, href);
    }
  });
});

// Professional touch: Cookie consent
function acceptCookies() {
  localStorage.setItem('cookiesAccepted', 'true');
  const cookieConsent = document.getElementById('cookieConsent');
  if (cookieConsent) {
    cookieConsent.classList.remove('show');
    setTimeout(() => cookieConsent.remove(), 300);
  }
}

// Professional touch: Enhanced touch interactions
document.addEventListener('touchstart', function() {}, {passive: true});

// Professional touch: Viewport resize handling
let resizeTimer;
window.addEventListener('resize', function() {
  document.body.classList.add('resizing');
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(() => {
    document.body.classList.remove('resizing');
  }, 250);
});

// Professional touch: Performance monitoring
if ('performance' in window) {
  const perfObserver = new PerformanceObserver((list) => {
    list.getEntries().forEach((entry) => {
      console.log(`[Performance] ${entry.name}: ${entry.duration}ms`);
    });
  });
  
  perfObserver.observe({ entryTypes: ['measure', 'paint'] });
}

// Professional touch: Service worker registration for PWA
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js').then(
      function(registration) {
        console.log('ServiceWorker registration successful');
      },
      function(err) {
        console.log('ServiceWorker registration failed: ', err);
      }
    );
  });
}

// Professional touch: Network status detection
window.addEventListener('online', function() {
  showNotification('You are back online', 'success');
});

window.addEventListener('offline', function() {
  showNotification('You are offline. Some features may not work.', 'warning');
});

function showNotification(message, type) {
  // Create notification element
  const notification = document.createElement('div');
  notification.className = `notification ${type}`;
  notification.textContent = message;
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: ${type === 'success' ? '#4CAF50' : '#FF9800'};
    color: white;
    padding: 1rem;
    border-radius: 8px;
    z-index: 9999;
    animation: slideIn 0.3s ease;
  `;
  
  document.body.appendChild(notification);
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

// Professional touch: Enhanced picture card animations with GSAP-like easing
function animatePictureCards() {
  const cards = document.querySelectorAll('.picture-card');
  cards.forEach((card, index) => {
    const delay = index * 100;
    card.style.transitionDelay = `${delay}ms`;
    card.style.transitionTimingFunction = 'cubic-bezier(0.34, 1.56, 0.64, 1)';
  });
}

// Professional touch: Debounce function for performance
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// Professional touch: Throttle function for scroll events
function throttle(func, limit) {
  let inThrottle;
  return function() {
    const args = arguments;
    const context = this;
    if (!inThrottle) {
      func.apply(context, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
}

// Update existing picture card scroll handler with throttling
const throttledCheckScroll = throttle(checkScroll, 100);
window.addEventListener('scroll', throttledCheckScroll);

// Professional touch: Enhanced video loading with error handling
function optimizeVideoLoading() {
  const video = document.querySelector('.hero-video');
  if (video) {
    // Set video quality based on connection
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    if (connection) {
      if (connection.saveData || connection.effectiveType.includes('2g')) {
        video.setAttribute('poster', 'hero-poster-low.jpg');
      }
    }
    
    // Handle video errors
    video.addEventListener('error', function() {
      console.error('Video loading failed, showing fallback image');
      const poster = video.getAttribute('poster');
      if (poster) {
        video.parentElement.style.backgroundImage = `url(${poster})`;
        video.style.display = 'none';
      }
    });
    
    // Play video when visible
    const videoObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          video.play().catch(e => console.log('Autoplay prevented:', e));
        } else {
          video.pause();
        }
      });
    }, { threshold: 0.5 });
    
    videoObserver.observe(video);
  }
}

// Professional touch: Print functionality
function setupPrint() {
  const printBtn = document.createElement('button');
  printBtn.className = 'btn no-print';
  printBtn.innerHTML = '<i class="fas fa-print"></i> Print Page';
  printBtn.style.cssText = 'position: fixed; bottom: 100px; right: 30px; z-index: 999;';
  printBtn.onclick = () => window.print();
  document.body.appendChild(printBtn);
}

// Initialize all enhancements
document.addEventListener('DOMContentLoaded', function() {
  optimizeVideoLoading();
  animatePictureCards();
  setupPrint();
  
  // Add main content ID for skip link
  const mainContent = document.querySelector('main') || document.querySelector('.hero').nextElementSibling;
  if (mainContent) {
    mainContent.id = 'mainContent';
  }
});

// Professional touch: Copy to clipboard for addresses
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(() => {
    showNotification('Copied to clipboard!', 'success');
  }).catch(err => {
    console.error('Failed to copy: ', err);
  });
}

// Professional touch: Share functionality
function sharePage() {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      text: 'Check out SPAC Church website',
      url: window.location.href
    });
  }
}

// Add share button
const shareBtn = document.createElement('button');
shareBtn.className = 'btn no-print';
shareBtn.innerHTML = '<i class="fas fa-share-alt"></i>';
shareBtn.style.cssText = 'position: fixed; bottom: 150px; right: 30px; z-index: 999; width: 50px; height: 50px; border-radius: 50%;';
shareBtn.onclick = sharePage;
document.body.appendChild(shareBtn);

// Professional touch: Theme switcher (optional)
function initThemeSwitcher() {
  const themeToggle = document.createElement('button');
  themeToggle.className = 'btn no-print';
  themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
  themeToggle.style.cssText = 'position: fixed; bottom: 200px; right: 30px; z-index: 999; width: 50px; height: 50px; border-radius: 50%;';
  themeToggle.onclick = function() {
    document.body.classList.toggle('dark-theme');
    localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
  };
  
  // Load saved theme
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark-theme');
  }
  
  document.body.appendChild(themeToggle);
}

// Uncomment to enable theme switcher
// initThemeSwitcher();
</script>

<!-- Add these CSS animations at the end of style tag -->
<style>
  @keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes slideOut {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .fade-in {
    animation: fadeIn 0.6s ease forwards;
  }
  
  /* Dark theme styles */
  .dark-theme {
    --light: #1a1a1a;
    --dark: #f8f9fa;
    background: #121212;
    color: #e0e0e0;
  }
  
  .dark-theme .glass-effect {
    background: rgba(30, 30, 30, 0.85);
    border-color: rgba(255, 255, 255, 0.1);
  }
  
  .dark-theme .modern-card {
    background: #2d2d2d;
    color: #e0e0e0;
  }
  
  /* Responsive font sizes using clamp */
  .responsive-heading {
    font-size: clamp(1.5rem, 5vw, 3rem);
  }
  
  .responsive-text {
    font-size: clamp(1rem, 2vw, 1.25rem);
  }
  
  /* Ensure no layout shift */
  .aspect-ratio-box {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */
  }
  
  .aspect-ratio-box img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  </style>
